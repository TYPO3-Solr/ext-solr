includes:
  - ../../.Build/vendor/phpstan/phpstan-phpunit/extension.neon

parameters:
  level: 3
  treatPhpDocTypesAsCertain: false

  bootstrapFiles:
    - phpstan-constants.php

  universalObjectCratesClasses:
    - ApacheSolrForTypo3\Solr\System\Solr\Document\Document
    - ApacheSolrForTypo3\Solr\Domain\Search\ResultSet\Result\SearchResult

  paths:
    - %currentWorkingDirectory%/Classes
    - %currentWorkingDirectory%/Tests

  ignoreErrors:
    - '#^Variable \$_EXTKEY might not be defined\.#'
    - '#^Method .*\\QueryBuilder::buildSuggestQuery\(\) should return .*\\SuggestQuery but returns .*\\Search\\Query\\Query\|null.#'
    - '#^Method .*\\QueryBuilder::use.*FromTypoScript\(\) should return .*\\QueryBuilder but returns .*\\AbstractQueryBuilder.#'
    - '#^Access to protected property .*\\PageRepository::\$where_groupAccess.#'
